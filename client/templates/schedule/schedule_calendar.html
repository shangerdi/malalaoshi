<template name="scheduleCalendar">
  {{#contentFor "headerTitle"}}
    <h1 class="title normal-title">我的课程</h1>
  {{/contentFor}}

  {{> appScheduleTabs}}

{{#ionView}}
  {{#ionContent}}
  <div class="schedule-calendar">
    <div class="top">
      <div class="marks"><div class="done"><span class="ion-record"></span>已上课</div><div class="todo"><span class="ion-record"></span>待上课</div></div>
      <div class="pull-right btns-box">
        {{#if isShowToToday}}<input class="btn btn-go-today" type="button" name="goToday" value="今天">{{/if}}
        <input class="btn btn-change-view" type="button" name="changeView" value="{{changeViewBtnText}}">
      </div>
    </div>
    <div class="year-view-box">
      <div class="year-nav">
        <h3>{{year}}年</h3>
      </div>
      <div class="mlls-row year-view">
        {{#each monthNum}}
        <div class="col-xs-4 col-sm-4 col-md-3 amonth" data-month="{{this}}">
          <a>{{this}}月</a>
          <table class="table">
            <thead><tr class="week-row">{{#each weekdays}}<td class="{{getWeekdayClass this}}">{{weekdayText this}}</td>{{/each}}</tr></thead>
            <tbody>
              {{#each weekrows this}}
              <tr>
                {{#each indexNum}}
                  <td class="date {{dateClass ../.. .. this}}" data-row="{{..}}" data-col="{{this}}"><div>{{dateText ../.. .. this}}</div></td>
                {{/each}}
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
        {{/each}}
      </div>
    </div>
    <div class="month-view-box">
      <div class="month-nav">
        <ul>
          {{#each indexNum}}
            <li class="{{#if $eq this 3}}cur-month{{/if}}"><a data-i="{{this}}">{{monthNavText this}}</a></li>
          {{/each}}
        </ul>
      </div>
      <div class="month-view">
        <table class="table">
          <thead><tr class="week-row">{{#each weekdays}}<td class="{{getWeekdayClass this}}">{{weekdayText this}}</td>{{/each}}</tr></thead>
          <tbody>
            {{#each weekrows}}
            <tr>
              {{#each indexNum}}
                <td class="date {{dateClass2 .. this}}" data-row="{{..}}" data-col="{{this}}"><div>{{dateText2 .. this}}</div></td>
              {{/each}}
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      <div class="course-items">
        <h4 class="title">课程安排</h4>
        <table class="table course-items-table">
          <!-- <tr><td>10:30~12:30</td><td>王琳琳</td><td>初三英语</td><td>学习中心</td></tr> -->
        </table>
      </div>
    </div>
    {{#if showLoading}}
      {{> loading}}
    {{/if}}
  </div>
  {{/ionContent}}
{{/ionView}}
</template>
