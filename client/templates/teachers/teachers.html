<template name="teachers">
  {{#contentFor "headerButtonRight"}}
    <button class="button button-clear pull-right button-light" data-ion-modal="selectTeachSubject">
      {{> ionIcon icon='ios-search'}}
    </button>
  {{/contentFor}}

  {{#contentFor "headerTitle"}}
    <h1 class="title normal-title">麻辣老师</h1>
  {{/contentFor}}

  {{#ionView class="teachers-grid-view"}}
    {{#ionContent}}
      {{#ionList}}
        <div class="teachers-grid">
        {{#each teachers}}
          {{> teacherItem}}
        {{/each}}
        </div>
      {{/ionList}}
    {{/ionContent}}
  {{/ionView}}
</template>

<template name="teacherItem">
  <a href="{{pathFor 'teacher' id=this._id}}" class="teacher-a">
    <div class="col teacher-div">
      <div>
        <img src="{{profile.avatarUrl}}" class="img-responsive">
        <div class="teacher-subject">{{subject}}</div>
      </div>
      <div class="teacher-profile">
        <div>
          <h3>{{profile.name}}</h3>
        </div>
        <div>
          <i class="mala mala-id teacher-icon-id-active"></i>
          <i class="mala mala-edu {{#if eduAudit}}teacher-icon-edu-active{{else}}teacher-icon-inactive{{/if}}"></i>
          <i class="mala mala-cert {{#if cert}}teacher-icon-cert-active{{else}}teacher-icon-inactive{{/if}}"></i>
        </div>
      </div>
    </div>
  </a>
</template>

<template name="selectTeachSubject">
  {{#ionModal customTemplate=true}}
    <form class="teach-subject-select">
      <div class="bar bar-header bar-stable">
        <button data-dismiss="modal" type="button" class="button button-clear ion-close"></button>
        <h2 class="title">精准筛选</h2>
        <button type="submit" id="selectSubjectBtn" class="button button-clear ion-checkmark"></button>
      </div>
      <div class="content has-header overflow-scroll">
        <div>
          <div>
            <div class="swiper-container swiper-subject">
                <div class="swiper-wrapper">
                  {{#each eduSubjectList}}
                    <div class="swiper-slide" data-value="{{key}}">{{text}}</div>
                  {{/each}}
                </div>
            </div>
          </div>
          <div>
            <div class="swiper-container swiper-grade">
                <div class="swiper-wrapper">
                  {{#each eduGradeList}}
                    <div class="swiper-slide" data-value="{{key}}">{{text}}</div>
                  {{/each}}
                </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  {{/ionModal}}
</template>
